import{g as z,a3 as j,x as M,f as R,a as f,b as g,c as n,r as S,n as N,D as q,W as A,G as L,w as T,q as U,F as G,v as X,X as Y,Y as D}from"./index.611229cf.js";import{u as P,I as J,e as K,M as _}from"./color.59751ad5.js";const ne=z(!1)({name:"VDefaultsProvider",props:{defaults:Object,disabled:Boolean,reset:[Number,String],root:Boolean,scoped:Boolean},setup(e,l){let{slots:i}=l;const{defaults:a,disabled:c,reset:r,root:s,scoped:v}=j(e);return M(a,{reset:r,root:s,scoped:v,disabled:c}),()=>{var m;return(m=i.default)==null?void 0:m.call(i)}}});const Q=R({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Z(e){return{dimensionStyles:f(()=>({height:g(e.height),maxHeight:g(e.maxHeight),maxWidth:g(e.maxWidth),minHeight:g(e.minHeight),minWidth:g(e.minWidth),width:g(e.width)}))}}function p(e){return{aspectStyles:f(()=>{const l=Number(e.aspectRatio);return l?{paddingBottom:String(1/l*100)+"%"}:void 0})}}const ee=z()({name:"VResponsive",props:{aspectRatio:[String,Number],contentClass:String,...Q()},setup(e,l){let{slots:i}=l;const{aspectStyles:a}=p(e),{dimensionStyles:c}=Z(e);return P(()=>{var r;return n("div",{class:"v-responsive",style:c.value},[n("div",{class:"v-responsive__sizer",style:a.value},null),(r=i.additional)==null?void 0:r.call(i),i.default&&n("div",{class:["v-responsive__content",e.contentClass]},[i.default()])])}),{}}}),re=z()({name:"VImg",directives:{intersect:J},props:{aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number],...K()},emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,l){let{emit:i,slots:a}=l;const c=S(""),r=S(),s=S(e.eager?"loading":"idle"),v=S(),m=S(),o=f(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),h=f(()=>o.value.aspect||v.value/m.value||0);N(()=>e.src,()=>{y(s.value!=="idle")}),N(h,(t,u)=>{!t&&u&&r.value&&b(r.value)}),q(()=>y());function y(t){if(!(e.eager&&t)&&!(A&&!t&&!e.eager)){if(s.value="loading",o.value.lazySrc){const u=new Image;u.src=o.value.lazySrc,b(u,null)}!o.value.src||L(()=>{var u,d;if(i("loadstart",((u=r.value)==null?void 0:u.currentSrc)||o.value.src),(d=r.value)!=null&&d.complete){if(r.value.naturalWidth||W(),s.value==="error")return;h.value||b(r.value,null),w()}else h.value||b(r.value),I()})}}function w(){var t;I(),s.value="loaded",i("load",((t=r.value)==null?void 0:t.currentSrc)||o.value.src)}function W(){var t;s.value="error",i("error",((t=r.value)==null?void 0:t.currentSrc)||o.value.src)}function I(){const t=r.value;t&&(c.value=t.currentSrc||t.src)}let B=-1;function b(t){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const d=()=>{clearTimeout(B);const{naturalHeight:V,naturalWidth:H}=t;V||H?(v.value=H,m.value=V):!t.complete&&s.value==="loading"&&u!=null?B=window.setTimeout(d,u):(t.currentSrc.endsWith(".svg")||t.currentSrc.startsWith("data:image/svg+xml"))&&(v.value=1,m.value=1)};d()}const x=f(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),k=()=>{var d;if(!o.value.src||s.value==="idle")return null;const t=n("img",{class:["v-img__img",x.value],src:o.value.src,srcset:o.value.srcset,alt:e.alt,sizes:e.sizes,ref:r,onLoad:w,onError:W},null),u=(d=a.sources)==null?void 0:d.call(a);return n(_,{transition:e.transition,appear:!0},{default:()=>[T(u?n("picture",{class:"v-img__picture"},[u,t]):t,[[X,s.value==="loaded"]])]})},E=()=>n(_,{transition:e.transition},{default:()=>[o.value.lazySrc&&s.value!=="loaded"&&n("img",{class:["v-img__img","v-img__img--preload",x.value],src:o.value.lazySrc,alt:e.alt},null)]}),F=()=>a.placeholder?n(_,{transition:e.transition,appear:!0},{default:()=>[(s.value==="loading"||s.value==="error"&&!a.error)&&n("div",{class:"v-img__placeholder"},[a.placeholder()])]}):null,$=()=>a.error?n(_,{transition:e.transition,appear:!0},{default:()=>[s.value==="error"&&n("div",{class:"v-img__error"},[a.error()])]}):null,O=()=>e.gradient?n("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,C=S(!1);{const t=N(h,u=>{u&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{C.value=!0})}),t())})}return P(()=>T(n(ee,{class:["v-img",{"v-img--booting":!C.value}],style:{width:g(e.width==="auto"?v.value:e.width)},aspectRatio:h.value,"aria-label":e.alt,role:e.alt?"img":void 0},{additional:()=>n(G,null,[n(k,null,null),n(E,null,null),n(O,null,null),n(F,null,null),n($,null,null)]),default:a.default}),[[U("intersect"),{handler:y,options:e.options},null,{once:!0}]])),{currentSrc:c,image:r,state:s,naturalWidth:v,naturalHeight:m}}}),ie=R({border:[Boolean,Number,String]},"border");function le(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y();return{borderClasses:f(()=>{const a=D(e)?e.value:e.border,c=[];if(a===!0||a==="")c.push(`${l}--border`);else if(typeof a=="string"||a===0)for(const r of String(a).split(" "))c.push(`border-${r}`);return c})}}const se=R({elevation:{type:[Number,String],validator(e){const l=parseInt(e);return!isNaN(l)&&l>=0&&l<=24}}},"elevation");function ue(e){return{elevationClasses:f(()=>{const i=D(e)?e.value:e.elevation,a=[];return i==null||a.push(`elevation-${i}`),a})}}export{ne as V,Q as a,se as b,Z as c,ue as d,re as e,ee as f,ie as m,le as u};
